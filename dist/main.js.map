{"version":3,"file":"main.js","mappings":"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","sources":["webpack://dinnercss/./src/components/app/app.js","webpack://dinnercss/./src/components/controller/appLoader.js","webpack://dinnercss/./src/components/controller/controller.js","webpack://dinnercss/./src/components/controller/loader.js","webpack://dinnercss/./src/components/view/appView.js","webpack://dinnercss/./src/components/view/news/news.js","webpack://dinnercss/./src/components/view/sources/sources.js","webpack://dinnercss/./src/components/view/news/news.css?d03d","webpack://dinnercss/./src/components/view/sources/sources.css?d0df","webpack://dinnercss/./src/global.css?3a8c","webpack://dinnercss/webpack/bootstrap","webpack://dinnercss/webpack/runtime/define property getters","webpack://dinnercss/webpack/runtime/hasOwnProperty shorthand","webpack://dinnercss/webpack/runtime/make namespace object","webpack://dinnercss/./src/index.js"],"sourcesContent":["import AppController from '../controller/controller';\nimport { AppView } from '../view/appView';\n\nclass App {\n    constructor() {\n        this.controller = new AppController();\n        this.view = new AppView();\n    }\n\n    start() {\n        document\n            .querySelector('.sources')\n            .addEventListener('click', (e) => this.controller.getNews(e, (data) => this.view.drawNews(data)));\n        this.controller.getSources((data) => this.view.drawSources(data));\n    }\n}\n\nexport default App;\n","import Loader from \"./loader\";\n\nclass AppLoader extends Loader {\n  constructor() {\n    super(\"https://newsapi.org/v2/\", {\n      apiKey: \"bdb9f59aef754244bedf2ddd480ebf85\", // получите свой ключ https://newsapi.org/\n    });\n  }\n}\n\nexport default AppLoader;\n","import AppLoader from './appLoader';\n\nclass AppController extends AppLoader {\n    getSources(callback) {\n        super.getResp(\n            {\n                endpoint: 'sources',\n            },\n            callback\n        );\n    }\n\n    getNews(e, callback) {\n        let target = e.target;\n        const newsContainer = e.currentTarget;\n\n        while (target !== newsContainer) {\n            if (target.classList.contains('source__item')) {\n                const sourceId = target.getAttribute('data-source-id');\n                if (newsContainer.getAttribute('data-source') !== sourceId) {\n                    newsContainer.setAttribute('data-source', sourceId);\n                    super.getResp(\n                        {\n                            endpoint: 'everything',\n                            options: {\n                                sources: sourceId,\n                            },\n                        },\n                        callback\n                    );\n                }\n                return;\n            }\n            target = target.parentNode;\n        }\n    }\n}\n\nexport default AppController;\n","class Loader {\n    constructor(baseLink, options) {\n        this.baseLink = baseLink;\n        this.options = options;\n    }\n\n    getResp(\n        { endpoint, options = {} },\n        callback = () => {\n            console.error('No callback for GET response');\n        }\n    ) {\n        this.load('GET', endpoint, callback, options);\n    }\n\n    errorHandler(res) {\n        if (!res.ok) {\n            if (res.status === 401 || res.status === 404)\n                console.log(`Sorry, but there is ${res.status} error: ${res.statusText}`);\n            throw Error(res.statusText);\n        }\n\n        return res;\n    }\n\n    makeUrl(options, endpoint) {\n        const urlOptions = { ...this.options, ...options };\n        let url = `${this.baseLink}${endpoint}?`;\n\n        Object.keys(urlOptions).forEach((key) => {\n            url += `${key}=${urlOptions[key]}&`;\n        });\n\n        return url.slice(0, -1);\n    }\n\n    load(method, endpoint, callback, options = {}) {\n        fetch(this.makeUrl(options, endpoint), { method })\n            .then(this.errorHandler)\n            .then((res) => res.json())\n            .then((data) => callback(data))\n            .catch((err) => console.error(err));\n    }\n}\n\nexport default Loader;\n","import News from './news/news';\nimport Sources from './sources/sources';\n\nexport class AppView {\n    constructor() {\n        this.news = new News();\n        this.sources = new Sources();\n    }\n\n    drawNews(data) {\n        const values = data?.articles ? data?.articles : [];\n        this.news.draw(values);\n    }\n\n    drawSources(data) {\n        const values = data?.sources ? data?.sources : [];\n        this.sources.draw(values);\n    }\n}\n\nexport default AppView;\n","import './news.css';\n\nclass News {\n    draw(data) {\n        const news = data.length >= 10 ? data.filter((_item, idx) => idx < 10) : data;\n\n        const fragment = document.createDocumentFragment();\n        const newsItemTemp = document.querySelector('#newsItemTemp');\n\n        news.forEach((item, idx) => {\n            const newsClone = newsItemTemp.content.cloneNode(true);\n\n            if (idx % 2) newsClone.querySelector('.news__item').classList.add('alt');\n\n            newsClone.querySelector('.news__meta-photo').style.backgroundImage = `url(${\n                item.urlToImage || 'img/news_placeholder.jpg'\n            })`;\n            newsClone.querySelector('.news__meta-author').textContent = item.author || item.source.name;\n            newsClone.querySelector('.news__meta-date').textContent = item.publishedAt\n                .slice(0, 10)\n                .split('-')\n                .reverse()\n                .join('-');\n\n            newsClone.querySelector('.news__description-title').textContent = item.title;\n            newsClone.querySelector('.news__description-source').textContent = item.source.name;\n            newsClone.querySelector('.news__description-content').textContent = item.description;\n            newsClone.querySelector('.news__read-more a').setAttribute('href', item.url);\n\n            fragment.append(newsClone);\n        });\n\n        document.querySelector('.news').innerHTML = '';\n        document.querySelector('.news').appendChild(fragment);\n    }\n}\n\nexport default News;\n","import './sources.css';\n\nclass Sources {\n    draw(data) {\n        const fragment = document.createDocumentFragment();\n        const sourceItemTemp = document.querySelector('#sourceItemTemp');\n\n        data.forEach((item) => {\n            const sourceClone = sourceItemTemp.content.cloneNode(true);\n\n            sourceClone.querySelector('.source__item-name').textContent = item.name;\n            sourceClone.querySelector('.source__item').setAttribute('data-source-id', item.id);\n\n            fragment.append(sourceClone);\n        });\n\n        document.querySelector('.sources').append(fragment);\n    }\n}\n\nexport default Sources;\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import App from './components/app/app';\nimport './global.css';\n\nconst app = new App();\napp.start();\n"],"names":["AppController","AppView","App","constructor","controller","view","start","document","querySelector","addEventListener","e","getNews","data","drawNews","getSources","drawSources","Loader","AppLoader","apiKey","callback","getResp","endpoint","target","newsContainer","currentTarget","classList","contains","sourceId","getAttribute","setAttribute","options","sources","parentNode","baseLink","_ref","arguments","length","undefined","console","error","load","errorHandler","res","ok","status","log","statusText","Error","makeUrl","urlOptions","url","Object","keys","forEach","key","slice","method","fetch","then","json","catch","err","News","Sources","news","values","articles","draw","filter","_item","idx","fragment","createDocumentFragment","newsItemTemp","item","newsClone","content","cloneNode","add","style","backgroundImage","urlToImage","textContent","author","source","name","publishedAt","split","reverse","join","title","description","append","innerHTML","appendChild","sourceItemTemp","sourceClone","id","app"],"sourceRoot":""}